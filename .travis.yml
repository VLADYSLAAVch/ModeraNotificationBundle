language: php

env:
  global:
    - SYMFONY__db_host=localhost
    - SYMFONY__db_port=3306
    - SYMFONY__db_user=root
    - SYMFONY__db_password=""

php:
  - 5.6
  - 7.0
  - 7.1
  - 7.2

before_script:
  - if [[ ${TRAVIS_PHP_VERSION:0:3} != "5.6" ]]; then rm composer.lock; fi;
  - COMPOSER_MEMORY_LIMIT=-1 composer install
  - mysql -e 'CREATE DATABASE modera_notificationsbundle'
